\chapter{Phase 2: System Interaktion und Bedienung}

\section{User Stories}

Nun werden die Usecases aus Phase 1 mithilfe von User Stories weiter beschrieben. Dabei liegt der Fokus auf Szenarien, die eine Interaktion mit dem Smartwatch-System abbilden.
Die ersten beiden User Stories beschreiben zunächst einen typischen Hauptanwendungsfall der Uhr: Das Annehmen/Ablehnen/Tätigen von Anrufen von dem verbundenen Smartphone.
Um dem Produkt eine detailgetreue Anleitung für einen reibungslosen Einrichtungsprozess beizulegen, wurde eine User Story speziell für das Einrichten, bzw. Koppeln der Smartwatch mit einem Smartphone definiert.
Da eine Kernfunktionion der Smartwatch darin besteht, sie für Fitness-Tracking verschiedener sportlichen Aktivitäten einzusetzen, wurden mehrere User Stories für diese Anwendungsfälle entworfen. Im folgenden wird die User Story "Joggen gehen" beschrieben, weitere Fitness-User Stories finden sich im Anhang an diese Arbeit.
\begin{figure}[H]
\centering\
\includegraphics[width=10cm]{img/story_in}
\caption{User Story - Eingehender Anruf}\label{fig:story-in}
\end{figure}
\begin{figure}[H]
\centering\
\includegraphics[width=10cm]{img/story_out}
\caption{User Story - Anruf tätigen}\label{fig:story-out}
\end{figure}
\begin{figure}[H]
\centering\
\includegraphics[width=10cm]{img/story_pairing}
\caption{User Story - Pairing}\label{fig:story-pairing}
\end{figure}
\begin{figure}[H]
\centering\
\includegraphics[width=10cm]{img/story_joggen}
\caption{User Story - Fitness}\label{fig:story-joggen}
\end{figure}

\section{Sequence Diagram}
Das Interaktionsverhalten für die Szenarien ``Anruf'' und ``Koppeln'' des Smartwatches mit dem Smartphone, ist fest definiert. Sequenzdiagramme eignen sich hier zur Kontextabgrenzung sehr gut.
In der Abbildung \ref{fig:kopplung} ist der Bluetooth-Kopplungsvorgang als Sequnzdiagramm abgebildet.
Zuerst startet das Smartphone über Bluetooth eine Discovery-Anfrage in der Umgebung.
Das Bluetooth des Smartphones sucht alle verfügbaren Bluetooth-Geräte in der Nähe und übergibt diese dem Smartphone für die Anzeige.
Der Benutzer kann seinen Smartwatch in der Liste auswählen um die Kopplung zu starten.
Danach wird der Benutzer aufgefordert auf seinem Smartphone jetzt die Bluetooth-Kopplungsanforderung mit dem Kopplungs-Code zu bestätigen. Der Kopplungs-Code wird in der Smartwatch angezeigt.
Falls der Benutzer einen falschen Code eingegeben hat, wird die Kopplung vom Smartwatch
abgelehnt.

\begin{figure}[H]
\centering\
\includegraphics[width=10cm]{img/KoppelnSequenz}
\caption{Kopplung des Smartphones mit Smartwatch}\label{fig:kopplung}
\end{figure}


\begin{figure}[H]
\centering\
\includegraphics[width=10cm]{img/AnrufenSequenz}
\caption{Anfrufen mit dem Smartwatch}\label{fig:anruf}
\end{figure}

\todo{Korrekturlesen}
In der Abbildung \ref{fig:anruf} ist die Anrufszenario als Sequnzdiagramm abgebildet. 
Um einen Anruf zu betätigen muss der User erst über Smartwatch den Kontakt wählen. Der Smartwatch sendet den Smartphone eine Nachricht, dass er den Kontakt auswählen soll. Ist der Kontakt ausgewählt, so hat man drei Möglichkeiten.
1.: Der Bedingung ist, dass der Netz vorhanden sein muss. Dies ist der Happy day scenario. Der Benutzer ruft an, der Freund nimmt an und der Anruf ist stattgefunden.
2.: Der Bedingung ist, dass der Netz vorhanden ist, aber der Freund lehnt Anruf ab. Prinzipiell ist es das gleiche Szenario, allerdings lehnt der Freund das Anruf ab.
3.: Der Bedingung ist, dass kein Netz vorhanden ist. Hier versucht der User seinen Freund anzurufen. Da allerdings kein Netz vorhanden ist, kommt ein self-Message mit "kein Netz" und der Anruf konnte nicht stattfinden.


\input{Inhalt/03Phase_2_StateDiagram}

\input{Inhalt/03Phase_2_TimingDiagram}
